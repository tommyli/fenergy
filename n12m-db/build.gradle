buildscript {
  repositories {
    mavenLocal()
    maven { url "https://repo.grails.org/grails/core" }
  }
  dependencies {
    classpath "org.grails:grails-gradle-plugin:$grailsVersion"
//    classpath "org.flywaydb:flyway-parent:4.0.3"
  }
}

plugins {
  id "org.flywaydb.flyway" version "4.0.3"
}

version "0.1.0"
group "co.firefire.n12m.db"

apply plugin: "idea"
apply plugin: "org.grails.grails-core"

repositories {
  mavenLocal()
  maven { url "https://repo.grails.org/grails/core" }
}

dependencyManagement {
  imports {
    mavenBom "org.grails:grails-bom:$grailsVersion"
  }
  applyMavenExclusions false
}

dependencies {
  compile "org.springframework.boot:spring-boot-starter-logging"
  compile "org.springframework.boot:spring-boot-autoconfigure"
  compile "org.grails:grails-core"
  console "org.grails:grails-console"
  profile "org.grails.profiles:base"
}

flyway {
  driver = 'org.hsqldb.jdbcDriver'
  url = 'jdbc:hsqldb:file:/db/flyway_sample;shutdown=true'
  user = 'SA'
  password = 'mySecretPwd'
  schemas = ['schema1', 'schema2', 'schema3']
  table = 'schema_history'
  locations = ['classpath:migrations1', 'migrations2', 'filesystem:/sql-migrations']
  sqlMigrationPrefix = 'Migration-'
  repeatableSqlMigrationPrefix = 'RRR'
  sqlMigrationSeparator = '__'
  sqlMigrationSuffix = '-OK.sql'
  encoding = 'ISO-8859-1'
  placeholderReplacement = true
  placeholders = [
    'aplaceholder'    : 'value',
    'otherplaceholder': 'value123'
  ]
  placeholderPrefix = '#['
  placeholderSuffix = ']'
  resolvers = ['com.mycompany.proj.CustomResolver', 'com.mycompany.proj.AnotherResolver']
  skipDefaultResolvers = false
  callbacks = ['com.mycompany.proj.CustomCallback', 'com.mycompany.proj.AnotherCallback']
  skipDefaultCallbacks = false
  target = '1.1'
  outOfOrder = false
}
